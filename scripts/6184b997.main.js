!function(){window.RedditT=Ember.Application.create()}(),function(){RedditT.PostController=Ember.ObjectController.extend({actions:{goToNextPost:function(){controller=this,this.get("model").next().then(function(a){controller.set("model",a),window.scrollTo(0,0)})},goToPreviousPost:function(){controller=this,this.get("model").previous().then(function(a){controller.set("model",a),window.scrollTo(0,0)})}}})}(),function(){RedditT.ApplicationAdapter=DS.FixtureAdapter}(),function(){RedditT.Post=Ember.Object.extend({author_url:function(){return"http://reddit.com/u/"+this.get("author")}.property("author"),comments_url:function(){return this.get("url")+"comments"}.property("url"),subreddit_url:function(){return"https://pay.reddit.com/r/"+this.get("subreddit")}.property("subreddit"),body:function(){var a=$("<textarea />").html(this.get("selftext_html")).val();return Ember.String.htmlSafe(a)}.property("selftext_html"),next:function(){return $.getJSON(this.get("subreddit_url")+".json",{limit:1,after:this.get("name")}).then(function(a){return RedditT.Post.create(a.data.children[0].data)})},previous:function(){return current_model=this,$.getJSON(this.get("subreddit_url")+".json",{limit:1,before:this.get("name")}).then(function(a){return 0==a.data.children.length?current_model:RedditT.Post.create(a.data.children[0].data)})}})}(),function(){RedditT.ApplicationRoute=Ember.Route.extend({model:function(){return["red","yellow","blue"]}})}(),function(){RedditT.PostRoute=Ember.Route.extend({activate:function(){$(document).attr("title",this.modelFor(this.routeName).get("title"))},model:function(a){return $.getJSON("https://pay.reddit.com/"+a.post_slug+".json",{limit:1}).then(function(a){return a instanceof Array&&(a=a[0]),a.data.children[0].data}).then(function(a){return model=RedditT.Post.create(a)})}})}(),function(){RedditT.Router.map(function(){this.resource("post",{path:"*post_slug"})})}();